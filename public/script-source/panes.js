// Generated by CoffeeScript 1.6.3
var getPaneID, lookup, paneCounter;

paneCounter = 0;

getPaneID = function() {
  paneCounter += 1;
  return paneCounter;
};

lookup = {};

exports.lookup = lookup;

exports.titlePaneCreate = function(svgAnchor, initialColor, rotated) {
  var paneId, paneObject, textWrapperId;
  paneObject = {};
  paneObject.element = svgAnchor.append('g');
  paneId = "pane" + getPaneID();
  paneObject.pane = paneObject.element.append('rect').style('fill', initialColor).attr('id', paneId);
  if (rotated) {
    textWrapperId = "panetextWrapper" + getPaneID();
    paneObject.element.append('foreignObject').append('xhtml:body').html("<svg id=" + textWrapperId + " style='-webkit-transform: perspective(40px) rotateX(2deg)'></svg>").style('pointer-events', 'none');
    paneObject.textWrapper = d3.select('#' + textWrapperId);
    paneObject.text = paneObject.textWrapper.append('text').attr("dominant-baseline", "central").style("text-anchor", "middle").style('fill', "#EEEEEE");
  } else {
    paneObject.text = paneObject.element.append('text').attr("dominant-baseline", "central").style("text-anchor", "middle").style('fill', "#EEEEEE");
  }
  paneObject.textWrapperId = textWrapperId;
  lookup[paneObject.pane.attr('id')] = paneObject;
  return paneObject;
};
