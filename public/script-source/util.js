// Generated by CoffeeScript 1.6.3
var getPaneID, paneCounter;

exports.getViewport = function() {
  return {
    width: window.innerWidth,
    height: window.innerHeight
  };
};

exports.calcLength = function(i1, i2) {
  return i2 - i1 + 1;
};

exports.makeSvgTopLayer = function(element) {
  return element.parentNode.appendChild(element);
};

paneCounter = 0;

getPaneID = function() {
  paneCounter += 1;
  return paneCounter;
};

exports.titlePaneCreate = function(svgAnchor, initialColor, rotated) {
  var paneId, paneObject;
  paneObject = Object;
  paneObject.element = svgAnchor.append('g');
  paneObject.pane = paneObject.element.append('rect').style('fill', initialColor);
  if (rotated) {
    paneId = "pane" + getPaneID();
    paneObject.element.append('foreignObject').append('xhtml:body').html("<svg id=" + paneId + " style='-webkit-transform: perspective(40px) rotateX(2deg)'></svg>").style('pointer-events', 'none');
    paneObject.textwrapper = d3.select('#' + paneId);
    paneObject.text = paneObject.textwrapper.append('text').attr("dominant-baseline", "central").style("text-anchor", "middle").style('fill', "#EEEEEE");
  } else {
    paneObject.text = paneObject.element.append('text').attr("dominant-baseline", "central").style("text-anchor", "middle").style('fill', "#EEEEEE");
  }
  paneObject.paneId = paneId;
  return paneObject;
};
